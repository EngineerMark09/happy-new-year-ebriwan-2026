{"version":3,"sources":["script.js"],"names":["textConfig","arrivalPrompt","mainMessage","subMessage","timingConfig","initiationDuration","countdownInterval","numberFadeIn","numberHold","numberDissolve","zeroMomentPause","fireworksDuration","messageDelay","controlsDelay","audioFadeInDuration","audioFadeOutDuration","audioConfig","ambientSrc","tickSrc","fireworkSrc","ambientVolume","tickVolume","fireworkVolume","state","phase","countdownValue","isMuted","audioInitialized","AudioManager","context","ambient","tick","firework","ambientGain","init","window","AudioContext","webkitAudioContext","createGain","connect","destination","gain","value","Audio","loop","volume","e","console","warn","playAmbient","play","fadeIn","playTick","currentTime","playFirework","audio","targetVolume","duration","startVolume","startTime","performance","now","fade","elapsed","progress","Math","min","easeOut","requestAnimationFrame","fadeOut","t","pow","toggleMute","muted","stopAll","StarField","canvas","ctx","stars","animationId","document","getElementById","getContext","resize","createStars","animate","addEventListener","width","innerWidth","height","innerHeight","count","floor","i","push","x","random","y","size","opacity","pulse","PI","pulseSpeed","clearRect","forEach","star","sin","beginPath","arc","fillStyle","fill","Fireworks","particles","rockets","isActive","start","classList","add","launchSequence","launches","delay","launch","setTimeout","createRocket","xPercent","targetY","speed","trail","explode","colors","color","length","particleCount","angle","velocity","vx","cos","vy","life","decay","fillRect","filter","rocket","shift","point","alpha","p","remove","Experience","elements","body","phaseArrival","phaseCountdown","phaseMessage","beginButton","countdownNumber","controls","replayButton","soundToggle","messageMain","querySelector","messageSub","textContent","bindEvents","begin","replay","toggleSound","key","startCountdown","showNumber","num","el","zeroMoment","release","showMessage","afterglow","pause","toggle","readyState"],"mappings":"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","sourcesContent":["/* ==========================================================================\r\n   TIMELESS NEW YEAR - CINEMATIC WEB EXPERIENCE\r\n   Vanilla JavaScript - No dependencies\r\n   \r\n   ANIMATION TIMING BREAKDOWN:\r\n   ---------------------------\r\n   Phase 0 (Arrival): Immediate, user waits\r\n   Phase 1 (Initiation): ~2000ms audio fade-in, background transition\r\n   Phase 2 (Countdown): 10 numbers Ã— 1000ms each = 10000ms\r\n     - Each number: 100ms fade-in, 600ms hold, 300ms dissolve\r\n   Phase 3 (Zero Moment): 300ms silence/blackout\r\n   Phase 4 (Release): ~8000ms fireworks bloom\r\n   Phase 5 (Message): Fades in during Phase 4, ~2400ms transition\r\n   Phase 6 (Afterglow): Indefinite, controls appear after ~3000ms\r\n   \r\n   CUSTOMIZATION GUIDE:\r\n   --------------------\r\n   - Text: Modify textConfig object below\r\n   - Timing: Modify timingConfig object below\r\n   - Colors: Modify CSS custom properties in style.css\r\n   - Sounds: Replace files in /assets folder\r\n   ========================================================================== */\r\n\r\n(function() {\r\n  'use strict';\r\n\r\n  /* --------------------------------------------------------------------------\r\n     Configuration - CUSTOMIZE HERE\r\n     -------------------------------------------------------------------------- */\r\n  \r\n  const textConfig = {\r\n    arrivalPrompt: 'Begin when ready.',\r\n    mainMessage: 'Happy New Year',\r\n    subMessage: 'A moment begins.'  // Alternatives: 'Forward.', 'Begin.', ''\r\n  };\r\n\r\n  const timingConfig = {\r\n    // Phase transitions (milliseconds)\r\n    initiationDuration: 2000,      // Audio fade-in time\r\n    countdownInterval: 1000,       // Time per countdown number\r\n    numberFadeIn: 100,             // Number appear duration\r\n    numberHold: 600,               // Number visible duration\r\n    numberDissolve: 300,           // Number fade duration\r\n    zeroMomentPause: 300,          // Silence after zero\r\n    fireworksDuration: 8000,       // Main fireworks display\r\n    messageDelay: 1500,            // Delay before message appears\r\n    controlsDelay: 5000,           // Delay before controls appear\r\n    \r\n    // Audio\r\n    audioFadeInDuration: 2000,\r\n    audioFadeOutDuration: 3000\r\n  };\r\n\r\n  const audioConfig = {\r\n    ambientSrc: 'assets/ambient.mp3',\r\n    tickSrc: 'assets/tick.mp3',\r\n    fireworkSrc: 'assets/firework.mp3',\r\n    ambientVolume: 0.4,\r\n    tickVolume: 0.15,\r\n    fireworkVolume: 0.3\r\n  };\r\n\r\n  /* --------------------------------------------------------------------------\r\n     State Management\r\n     -------------------------------------------------------------------------- */\r\n  \r\n  const state = {\r\n    phase: 'arrival',  // arrival, initiation, countdown, zero, release, message, afterglow\r\n    countdownValue: 10,\r\n    isMuted: false,\r\n    audioInitialized: false\r\n  };\r\n\r\n  /* --------------------------------------------------------------------------\r\n     Audio Manager\r\n     -------------------------------------------------------------------------- */\r\n  \r\n  const AudioManager = {\r\n    context: null,\r\n    ambient: null,\r\n    tick: null,\r\n    firework: null,\r\n    ambientGain: null,\r\n\r\n    async init() {\r\n      if (state.audioInitialized) return;\r\n      \r\n      try {\r\n        // Create audio context on user interaction\r\n        this.context = new (window.AudioContext || window.webkitAudioContext)();\r\n        \r\n        // Create gain node for ambient music\r\n        this.ambientGain = this.context.createGain();\r\n        this.ambientGain.connect(this.context.destination);\r\n        this.ambientGain.gain.value = 0;\r\n\r\n        // Create audio elements\r\n        this.ambient = new Audio(audioConfig.ambientSrc);\r\n        this.ambient.loop = true;\r\n        this.ambient.volume = audioConfig.ambientVolume;\r\n\r\n        this.tick = new Audio(audioConfig.tickSrc);\r\n        this.tick.volume = audioConfig.tickVolume;\r\n\r\n        this.firework = new Audio(audioConfig.fireworkSrc);\r\n        this.firework.volume = audioConfig.fireworkVolume;\r\n\r\n        state.audioInitialized = true;\r\n      } catch (e) {\r\n        console.warn('Audio initialization failed:', e);\r\n      }\r\n    },\r\n\r\n    async playAmbient() {\r\n      if (!this.ambient || state.isMuted) return;\r\n      \r\n      try {\r\n        this.ambient.volume = 0;\r\n        await this.ambient.play();\r\n        this.fadeIn(this.ambient, audioConfig.ambientVolume, timingConfig.audioFadeInDuration);\r\n      } catch (e) {\r\n        console.warn('Ambient playback failed:', e);\r\n      }\r\n    },\r\n\r\n    playTick() {\r\n      if (!this.tick || state.isMuted) return;\r\n      \r\n      try {\r\n        this.tick.currentTime = 0;\r\n        this.tick.play().catch(() => {});\r\n      } catch (e) {\r\n        // Silent fail for tick\r\n      }\r\n    },\r\n\r\n    playFirework() {\r\n      if (!this.firework || state.isMuted) return;\r\n      \r\n      try {\r\n        this.firework.currentTime = 0;\r\n        this.firework.play().catch(() => {});\r\n      } catch (e) {\r\n        // Silent fail for firework\r\n      }\r\n    },\r\n\r\n    fadeIn(audio, targetVolume, duration) {\r\n      const startVolume = audio.volume;\r\n      const startTime = performance.now();\r\n      \r\n      const fade = (currentTime) => {\r\n        const elapsed = currentTime - startTime;\r\n        const progress = Math.min(elapsed / duration, 1);\r\n        \r\n        audio.volume = startVolume + (targetVolume - startVolume) * this.easeOut(progress);\r\n        \r\n        if (progress < 1) {\r\n          requestAnimationFrame(fade);\r\n        }\r\n      };\r\n      \r\n      requestAnimationFrame(fade);\r\n    },\r\n\r\n    fadeOut(audio, duration) {\r\n      const startVolume = audio.volume;\r\n      const startTime = performance.now();\r\n      \r\n      const fade = (currentTime) => {\r\n        const elapsed = currentTime - startTime;\r\n        const progress = Math.min(elapsed / duration, 1);\r\n        \r\n        audio.volume = startVolume * (1 - this.easeOut(progress));\r\n        \r\n        if (progress < 1) {\r\n          requestAnimationFrame(fade);\r\n        }\r\n      };\r\n      \r\n      requestAnimationFrame(fade);\r\n    },\r\n\r\n    easeOut(t) {\r\n      return 1 - Math.pow(1 - t, 3);\r\n    },\r\n\r\n    toggleMute() {\r\n      state.isMuted = !state.isMuted;\r\n      \r\n      if (this.ambient) {\r\n        this.ambient.muted = state.isMuted;\r\n      }\r\n      if (this.tick) {\r\n        this.tick.muted = state.isMuted;\r\n      }\r\n      if (this.firework) {\r\n        this.firework.muted = state.isMuted;\r\n      }\r\n      \r\n      return state.isMuted;\r\n    },\r\n\r\n    stopAll() {\r\n      if (this.ambient) {\r\n        this.fadeOut(this.ambient, 1000);\r\n      }\r\n    }\r\n  };\r\n\r\n  /* --------------------------------------------------------------------------\r\n     Star Field Canvas\r\n     -------------------------------------------------------------------------- */\r\n  \r\n  const StarField = {\r\n    canvas: null,\r\n    ctx: null,\r\n    stars: [],\r\n    animationId: null,\r\n\r\n    init() {\r\n      this.canvas = document.getElementById('stars');\r\n      this.ctx = this.canvas.getContext('2d');\r\n      this.resize();\r\n      this.createStars();\r\n      this.animate();\r\n      \r\n      window.addEventListener('resize', () => this.resize());\r\n    },\r\n\r\n    resize() {\r\n      this.canvas.width = window.innerWidth;\r\n      this.canvas.height = window.innerHeight;\r\n    },\r\n\r\n    createStars() {\r\n      const count = Math.floor((window.innerWidth * window.innerHeight) / 8000);\r\n      this.stars = [];\r\n      \r\n      for (let i = 0; i < count; i++) {\r\n        this.stars.push({\r\n          x: Math.random() * this.canvas.width,\r\n          y: Math.random() * this.canvas.height,\r\n          size: Math.random() * 1.5 + 0.5,\r\n          opacity: Math.random() * 0.5 + 0.1,\r\n          pulse: Math.random() * Math.PI * 2,\r\n          pulseSpeed: Math.random() * 0.01 + 0.005\r\n        });\r\n      }\r\n    },\r\n\r\n    animate() {\r\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n      \r\n      this.stars.forEach(star => {\r\n        star.pulse += star.pulseSpeed;\r\n        const opacity = star.opacity * (0.5 + 0.5 * Math.sin(star.pulse));\r\n        \r\n        this.ctx.beginPath();\r\n        this.ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);\r\n        this.ctx.fillStyle = `rgba(255, 255, 255, ${opacity})`;\r\n        this.ctx.fill();\r\n      });\r\n      \r\n      this.animationId = requestAnimationFrame(() => this.animate());\r\n    }\r\n  };\r\n\r\n  /* --------------------------------------------------------------------------\r\n     Fireworks Canvas\r\n     -------------------------------------------------------------------------- */\r\n  \r\n  const Fireworks = {\r\n    canvas: null,\r\n    ctx: null,\r\n    particles: [],\r\n    rockets: [],\r\n    animationId: null,\r\n    isActive: false,\r\n\r\n    init() {\r\n      this.canvas = document.getElementById('fireworks');\r\n      this.ctx = this.canvas.getContext('2d');\r\n      this.resize();\r\n      \r\n      window.addEventListener('resize', () => this.resize());\r\n    },\r\n\r\n    resize() {\r\n      this.canvas.width = window.innerWidth;\r\n      this.canvas.height = window.innerHeight;\r\n    },\r\n\r\n    start() {\r\n      this.isActive = true;\r\n      this.canvas.classList.add('active');\r\n      this.launchSequence();\r\n      this.animate();\r\n    },\r\n\r\n    launchSequence() {\r\n      // Deliberate, paced launches - not chaotic\r\n      const launches = [\r\n        { delay: 0, x: 0.5 },\r\n        { delay: 800, x: 0.3 },\r\n        { delay: 1200, x: 0.7 },\r\n        { delay: 2000, x: 0.4 },\r\n        { delay: 2500, x: 0.6 },\r\n        { delay: 3200, x: 0.2 },\r\n        { delay: 3800, x: 0.8 },\r\n        { delay: 4500, x: 0.5 },\r\n        { delay: 5200, x: 0.35 },\r\n        { delay: 5800, x: 0.65 },\r\n        { delay: 6500, x: 0.45 },\r\n        { delay: 7200, x: 0.55 }\r\n      ];\r\n\r\n      launches.forEach(launch => {\r\n        setTimeout(() => {\r\n          if (this.isActive) {\r\n            this.createRocket(launch.x);\r\n          }\r\n        }, launch.delay);\r\n      });\r\n    },\r\n\r\n    createRocket(xPercent) {\r\n      const x = this.canvas.width * xPercent;\r\n      const targetY = this.canvas.height * (0.2 + Math.random() * 0.3);\r\n      \r\n      this.rockets.push({\r\n        x: x,\r\n        y: this.canvas.height,\r\n        targetY: targetY,\r\n        speed: 8 + Math.random() * 4,\r\n        trail: []\r\n      });\r\n    },\r\n\r\n    explode(x, y) {\r\n      AudioManager.playFirework();\r\n      \r\n      // Warm, soft color palette - no neon\r\n      const colors = [\r\n        'rgba(255, 230, 200, ',   // Warm white\r\n        'rgba(255, 200, 150, ',   // Soft gold\r\n        'rgba(255, 180, 140, ',   // Peach\r\n        'rgba(200, 180, 255, ',   // Soft lavender\r\n        'rgba(180, 200, 255, '    // Soft blue\r\n      ];\r\n      \r\n      const color = colors[Math.floor(Math.random() * colors.length)];\r\n      const particleCount = 80 + Math.floor(Math.random() * 40);\r\n      \r\n      for (let i = 0; i < particleCount; i++) {\r\n        const angle = (Math.PI * 2 * i) / particleCount + Math.random() * 0.2;\r\n        const velocity = 2 + Math.random() * 4;\r\n        \r\n        this.particles.push({\r\n          x: x,\r\n          y: y,\r\n          vx: Math.cos(angle) * velocity,\r\n          vy: Math.sin(angle) * velocity,\r\n          life: 1,\r\n          decay: 0.008 + Math.random() * 0.008,\r\n          color: color,\r\n          size: 2 + Math.random() * 2,\r\n          trail: []\r\n        });\r\n      }\r\n    },\r\n\r\n    animate() {\r\n      // Fade effect for afterimage/lingering light\r\n      this.ctx.fillStyle = 'rgba(0, 0, 0, 0.08)';\r\n      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n      // Update and draw rockets\r\n      this.rockets = this.rockets.filter(rocket => {\r\n        rocket.y -= rocket.speed;\r\n        \r\n        // Trail\r\n        rocket.trail.push({ x: rocket.x, y: rocket.y });\r\n        if (rocket.trail.length > 10) rocket.trail.shift();\r\n        \r\n        // Draw trail\r\n        rocket.trail.forEach((point, i) => {\r\n          const alpha = i / rocket.trail.length * 0.5;\r\n          this.ctx.beginPath();\r\n          this.ctx.arc(point.x, point.y, 1, 0, Math.PI * 2);\r\n          this.ctx.fillStyle = `rgba(255, 200, 150, ${alpha})`;\r\n          this.ctx.fill();\r\n        });\r\n        \r\n        if (rocket.y <= rocket.targetY) {\r\n          this.explode(rocket.x, rocket.y);\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n\r\n      // Update and draw particles\r\n      this.particles = this.particles.filter(p => {\r\n        p.x += p.vx;\r\n        p.y += p.vy;\r\n        p.vy += 0.05; // Gravity\r\n        p.vx *= 0.99; // Air resistance\r\n        p.life -= p.decay;\r\n        \r\n        // Trail for afterimage\r\n        p.trail.push({ x: p.x, y: p.y, life: p.life });\r\n        if (p.trail.length > 5) p.trail.shift();\r\n        \r\n        // Draw trail\r\n        p.trail.forEach((point, i) => {\r\n          const alpha = (point.life * 0.3) * (i / p.trail.length);\r\n          this.ctx.beginPath();\r\n          this.ctx.arc(point.x, point.y, p.size * 0.5, 0, Math.PI * 2);\r\n          this.ctx.fillStyle = p.color + alpha + ')';\r\n          this.ctx.fill();\r\n        });\r\n        \r\n        // Draw particle\r\n        if (p.life > 0) {\r\n          this.ctx.beginPath();\r\n          this.ctx.arc(p.x, p.y, p.size * p.life, 0, Math.PI * 2);\r\n          this.ctx.fillStyle = p.color + p.life + ')';\r\n          this.ctx.fill();\r\n        }\r\n        \r\n        return p.life > 0;\r\n      });\r\n\r\n      this.animationId = requestAnimationFrame(() => this.animate());\r\n    },\r\n\r\n    fadeOut() {\r\n      // Stop launching but let existing particles finish\r\n      this.isActive = false;\r\n      \r\n      setTimeout(() => {\r\n        this.canvas.classList.remove('active');\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  /* --------------------------------------------------------------------------\r\n     Experience Controller\r\n     -------------------------------------------------------------------------- */\r\n  \r\n  const Experience = {\r\n    elements: {},\r\n\r\n    init() {\r\n      // Cache DOM elements\r\n      this.elements = {\r\n        body: document.body,\r\n        phaseArrival: document.getElementById('phase-arrival'),\r\n        phaseCountdown: document.getElementById('phase-countdown'),\r\n        phaseMessage: document.getElementById('phase-message'),\r\n        beginButton: document.getElementById('beginButton'),\r\n        countdownNumber: document.getElementById('countdownNumber'),\r\n        controls: document.getElementById('controls'),\r\n        replayButton: document.getElementById('replayButton'),\r\n        soundToggle: document.getElementById('soundToggle'),\r\n        messageMain: document.querySelector('.message-main'),\r\n        messageSub: document.querySelector('.message-sub')\r\n      };\r\n\r\n      // Set customizable text\r\n      document.querySelector('.arrival-text').textContent = textConfig.arrivalPrompt;\r\n      this.elements.messageMain.textContent = textConfig.mainMessage;\r\n      this.elements.messageSub.textContent = textConfig.subMessage;\r\n\r\n      // Initialize visual systems\r\n      StarField.init();\r\n      Fireworks.init();\r\n\r\n      // Bind events\r\n      this.bindEvents();\r\n    },\r\n\r\n    bindEvents() {\r\n      this.elements.beginButton.addEventListener('click', () => this.begin());\r\n      this.elements.replayButton.addEventListener('click', () => this.replay());\r\n      this.elements.soundToggle.addEventListener('click', () => this.toggleSound());\r\n      \r\n      // Keyboard accessibility\r\n      document.addEventListener('keydown', (e) => {\r\n        if (e.key === 'Enter' && state.phase === 'arrival') {\r\n          this.begin();\r\n        }\r\n        if (e.key === 'm' && state.phase === 'afterglow') {\r\n          this.toggleSound();\r\n        }\r\n      });\r\n    },\r\n\r\n    async begin() {\r\n      // Phase 1: Initiation\r\n      state.phase = 'initiation';\r\n      \r\n      // Initialize audio on user interaction\r\n      await AudioManager.init();\r\n      \r\n      // Hide cursor for immersion\r\n      this.elements.body.classList.add('immersive');\r\n      \r\n      // Start ambient audio\r\n      AudioManager.playAmbient();\r\n      \r\n      // Transition out arrival\r\n      this.elements.phaseArrival.classList.remove('active');\r\n      \r\n      // Wait for initiation to complete\r\n      setTimeout(() => {\r\n        this.startCountdown();\r\n      }, timingConfig.initiationDuration);\r\n    },\r\n\r\n    startCountdown() {\r\n      // Phase 2: Countdown\r\n      state.phase = 'countdown';\r\n      state.countdownValue = 10;\r\n      \r\n      this.elements.phaseCountdown.classList.add('active');\r\n      \r\n      this.showNumber();\r\n    },\r\n\r\n    showNumber() {\r\n      const num = state.countdownValue;\r\n      const el = this.elements.countdownNumber;\r\n      const phase = this.elements.phaseCountdown;\r\n      \r\n      // Update visual pressure (subtle brightness increase)\r\n      for (let i = 1; i <= 10; i++) {\r\n        phase.classList.remove(`pressure-${i}`);\r\n      }\r\n      phase.classList.add(`pressure-${11 - num}`);\r\n      \r\n      // Display number\r\n      el.textContent = num;\r\n      el.classList.remove('dissolve');\r\n      el.classList.add('visible');\r\n      \r\n      // Play tick (felt, not heard - very subtle)\r\n      AudioManager.playTick();\r\n      \r\n      // Schedule dissolve\r\n      setTimeout(() => {\r\n        el.classList.add('dissolve');\r\n        el.classList.remove('visible');\r\n        \r\n        // Schedule next number or zero moment\r\n        setTimeout(() => {\r\n          state.countdownValue--;\r\n          \r\n          if (state.countdownValue > 0) {\r\n            this.showNumber();\r\n          } else {\r\n            this.zeroMoment();\r\n          }\r\n        }, timingConfig.numberDissolve);\r\n        \r\n      }, timingConfig.numberFadeIn + timingConfig.numberHold);\r\n    },\r\n\r\n    zeroMoment() {\r\n      // Phase 3: Zero Moment - Breath\r\n      state.phase = 'zero';\r\n      \r\n      // Hide countdown\r\n      this.elements.phaseCountdown.classList.remove('active');\r\n      \r\n      // Pure silence and darkness for 300ms\r\n      // This pause matters.\r\n      \r\n      setTimeout(() => {\r\n        this.release();\r\n      }, timingConfig.zeroMomentPause);\r\n    },\r\n\r\n    release() {\r\n      // Phase 4: Release\r\n      state.phase = 'release';\r\n      \r\n      // Start fireworks\r\n      Fireworks.start();\r\n      \r\n      // Show message after delay\r\n      setTimeout(() => {\r\n        this.showMessage();\r\n      }, timingConfig.messageDelay);\r\n      \r\n      // Transition to afterglow\r\n      setTimeout(() => {\r\n        this.afterglow();\r\n      }, timingConfig.fireworksDuration);\r\n    },\r\n\r\n    showMessage() {\r\n      // Phase 5: Message\r\n      state.phase = 'message';\r\n      this.elements.phaseMessage.classList.add('active');\r\n    },\r\n\r\n    afterglow() {\r\n      // Phase 6: Afterglow\r\n      state.phase = 'afterglow';\r\n      \r\n      // Fade out fireworks\r\n      Fireworks.fadeOut();\r\n      \r\n      // Restore cursor\r\n      this.elements.body.classList.remove('immersive');\r\n      \r\n      // Show controls\r\n      setTimeout(() => {\r\n        this.elements.controls.classList.add('visible');\r\n      }, timingConfig.controlsDelay - timingConfig.fireworksDuration);\r\n    },\r\n\r\n    replay() {\r\n      // Reset state\r\n      state.phase = 'arrival';\r\n      state.countdownValue = 10;\r\n      \r\n      // Reset UI\r\n      this.elements.body.classList.remove('immersive');\r\n      this.elements.phaseArrival.classList.add('active');\r\n      this.elements.phaseCountdown.classList.remove('active');\r\n      this.elements.phaseMessage.classList.remove('active');\r\n      this.elements.controls.classList.remove('visible');\r\n      \r\n      // Remove pressure classes\r\n      for (let i = 1; i <= 10; i++) {\r\n        this.elements.phaseCountdown.classList.remove(`pressure-${i}`);\r\n      }\r\n      \r\n      // Clear canvases\r\n      Fireworks.isActive = false;\r\n      Fireworks.particles = [];\r\n      Fireworks.rockets = [];\r\n      Fireworks.ctx.clearRect(0, 0, Fireworks.canvas.width, Fireworks.canvas.height);\r\n      Fireworks.canvas.classList.remove('active');\r\n      \r\n      // Reset audio\r\n      if (AudioManager.ambient) {\r\n        AudioManager.ambient.currentTime = 0;\r\n        AudioManager.ambient.pause();\r\n      }\r\n    },\r\n\r\n    toggleSound() {\r\n      const muted = AudioManager.toggleMute();\r\n      this.elements.soundToggle.classList.toggle('muted', muted);\r\n    }\r\n  };\r\n\r\n  /* --------------------------------------------------------------------------\r\n     Initialize on DOM Ready\r\n     -------------------------------------------------------------------------- */\r\n  \r\n  if (document.readyState === 'loading') {\r\n    document.addEventListener('DOMContentLoaded', () => Experience.init());\r\n  } else {\r\n    Experience.init();\r\n  }\r\n\r\n})();\r\n"],"file":"script.dev.js"}